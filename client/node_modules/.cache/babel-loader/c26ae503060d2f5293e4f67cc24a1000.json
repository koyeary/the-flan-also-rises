{"ast":null,"code":"import _defineProperty from \"/Users/katherineyeary/Desktop/Always_Be_Coding/the-flan-also-rises/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/katherineyeary/Desktop/Always_Be_Coding/the-flan-also-rises/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/katherineyeary/Desktop/Always_Be_Coding/the-flan-also-rises/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/katherineyeary/Desktop/Always_Be_Coding/the-flan-also-rises/client/src/pages/Search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport Form from '../components/Form';\n\nfunction Search() {\n  // Setting our component's initial state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formObject = _useState4[0],\n      setFormObject = _useState4[1]; // Load all books and store them with setBooks\n\n\n  useEffect(function () {\n    bookSearch();\n  });\n\n  function bookData() {\n    return {\n      title: books.volumeInfo.title,\n      authors: books.volumeInfo.authors,\n      link: books.volumeInfo.infoLink,\n      description: books.volumeInfo.description,\n      image: books.volumeInfo.imageLinks.thumbnail,\n      googleId: books.id\n    };\n  }\n  /*   // Deletes a book from the database with a given id, then reloads books from the db\n    function deleteBook(id) {\n      API.deleteBook(id)\n        .then(res => loadBooks())\n        .catch(err => console.log(err));\n    } */\n\n\n  function searchBook(query) {\n    API.getBook(query).then(function (res) {\n      return setBooks({\n        books: res.data.items.map(function (info) {\n          return bookData(info);\n        })\n      });\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  }\n\n  ; // Handles updating component state when the user types into the input field\n\n  function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setFormObject(_objectSpread({}, formObject, _defineProperty({}, name, value)));\n  }\n\n  ; // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    searchBook();\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    handleInputChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Button, {\n    handleFormSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Results\"), /*#__PURE__*/React.createElement(Results, {\n    books: books,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/katherineyeary/Desktop/Always_Be_Coding/the-flan-also-rises/client/src/pages/Search.js"],"names":["React","useState","useEffect","API","Form","Search","books","setBooks","formObject","setFormObject","bookSearch","bookData","title","volumeInfo","authors","link","infoLink","description","image","imageLinks","thumbnail","googleId","id","searchBook","query","getBook","then","res","data","items","map","info","catch","err","console","error","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;AAEA,SAASC,MAAT,GAAkB;AAChB;AADgB,kBAEUJ,QAAQ,CAAC,EAAD,CAFlB;AAAA;AAAA,MAETK,KAFS;AAAA,MAEFC,QAFE;;AAAA,mBAGoBN,QAAQ,CAAC,EAAD,CAH5B;AAAA;AAAA,MAGTO,UAHS;AAAA,MAGGC,aAHH,kBAKhB;;;AACCP,EAAAA,SAAS,CAAC,YAAM;AACfQ,IAAAA,UAAU;AACX,GAFS,CAAT;;AAID,WAASC,QAAT,GAAqB;AACnB,WAAO;AACLC,MAAAA,KAAK,EAAEN,KAAK,CAACO,UAAN,CAAiBD,KADnB;AAEHE,MAAAA,OAAO,EAAER,KAAK,CAACO,UAAN,CAAiBC,OAFvB;AAGHC,MAAAA,IAAI,EAAET,KAAK,CAACO,UAAN,CAAiBG,QAHpB;AAIHC,MAAAA,WAAW,EAAEX,KAAK,CAACO,UAAN,CAAiBI,WAJ3B;AAKHC,MAAAA,KAAK,EAAEZ,KAAK,CAACO,UAAN,CAAiBM,UAAjB,CAA4BC,SALhC;AAMHC,MAAAA,QAAQ,EAAEf,KAAK,CAACgB;AANb,KAAP;AAQD;AACH;;;;;;;;AAOC,WAASC,UAAT,CAAqBC,KAArB,EAA4B;AACzBrB,IAAAA,GAAG,CAACsB,OAAJ,CAAYD,KAAZ,EACKE,IADL,CACU,UAAAC,GAAG;AAAA,aAAIpB,QAAQ,CAAC;AAAED,QAAAA,KAAK,EAAEqB,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAeC,GAAf,CAAmB,UAAAC,IAAI;AAAA,iBAAIpB,QAAQ,CAACoB,IAAD,CAAZ;AAAA,SAAvB;AAAT,OAAD,CAAZ;AAAA,KADb,EAEKC,KAFL,CAEW,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ;AAAA,KAFd;AAGH;;AAAA,GA/BiB,CAiChB;;AACA,WAASG,iBAAT,CAA2BC,KAA3B,EAAkC;AAAA,wBACRA,KAAK,CAACC,MADE;AAAA,QACxBC,IADwB,iBACxBA,IADwB;AAAA,QAClBC,KADkB,iBAClBA,KADkB;AAEhC/B,IAAAA,aAAa,mBAAKD,UAAL,sBAAkB+B,IAAlB,EAAyBC,KAAzB,GAAb;AACD;;AAAA,GArCe,CAuChB;AACA;;AACA,WAASC,gBAAT,CAA0BJ,KAA1B,EAAiC;AAC/BA,IAAAA,KAAK,CAACK,cAAN;AACAnB,IAAAA,UAAU;AACX;;AAAA;AAEC,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AACA,IAAA,iBAAiB,EAAEa,iBADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAIE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,gBAAgB,EAAEK,gBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADJ,eAOI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAEnC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAPJ,CADJ;AAcH;;AAED,eAAeD,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport Form from '../components/Form';\n\nfunction Search() {\n  // Setting our component's initial state\n  const [books, setBooks] = useState([]);\n  const [formObject, setFormObject] = useState({})\n\n  // Load all books and store them with setBooks\n   useEffect(() => {\n    bookSearch();\n  });\n\n  function bookData () {\n    return {\n      title: books.volumeInfo.title,\n        authors: books.volumeInfo.authors,\n        link: books.volumeInfo.infoLink,\n        description: books.volumeInfo.description,\n        image: books.volumeInfo.imageLinks.thumbnail,\n        googleId: books.id\n    }\n  }\n/*   // Deletes a book from the database with a given id, then reloads books from the db\n  function deleteBook(id) {\n    API.deleteBook(id)\n      .then(res => loadBooks())\n      .catch(err => console.log(err));\n  } */\n\n function searchBook (query) {\n    API.getBook(query)\n        .then(res => setBooks({ books: res.data.items.map(info => bookData(info)) }))\n        .catch(err => console.error(err));\n};\n\n  // Handles updating component state when the user types into the input field\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setFormObject({...formObject, [name]: value})\n  };\n\n  // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    searchBook();\n  };\n\n    return (\n        <div>\n            <div className='form'>\n              <Form.Input\n              handleInputChange={handleInputChange}\n            />\n              <Form.Button handleFormSubmit={handleFormSubmit}/>\n            </div>\n            <div className=\"container\">\n                <h2>Results</h2>\n                <Results books={books} />\n            </div>\n        </div>\n    )\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}